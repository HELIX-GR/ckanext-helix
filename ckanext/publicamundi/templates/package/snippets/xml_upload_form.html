{% import 'macros/form.html' as form %}
{% import 'macros/markup_helpers.html' as markup_helpers %}

{% set data = data or {} %}
{% set errors = errors or {} %}
{% set action = form_action or h.url_for(controller='package', action='submit_upload', id=pkg_name) %}

{% block errors %}
{{ markup_helpers.error_messages(errors) }}
{% endblock %}

<form class="dataset-form" data-module="basic-form" action="submit_upload" method="post" enctype="multipart/form-data">
    {% block basic_fields_url %}
      {% set is_upload = (data.url_type == 'upload') %}
      {{ form.image_upload(data, errors, field_url='url', field_upload='upload', field_clear='clear_upload',
         is_upload_enabled=h.uploads_enabled(), is_url=data.url and not is_upload, is_upload=is_upload,
         upload_label=_('XML file'), url_label=_('URL')) }}
    {% endblock %}
    <div class="form-actions">
        <input class="btn btn-primary" type="submit" name="submit" value="Submit">
    </div>
</form>


