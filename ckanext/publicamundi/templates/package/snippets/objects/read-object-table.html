<div class="{{ classes|join(' ') }}">     
    {%- if title %}<h3>{{ title }}</h3>{% endif -%}
    <table class="table table-bordered metadata-table">
        {% with col_width = 100.0 / (num_cols + 1.5) %}
        <colgroup>
            {%- for j in range(1, num_cols) -%}
            <col style="width:{{ '%.1f'|format(col_width) }}%"></col>
            {%- endfor -%}
            <col style="width:{{ '%.1f'|format(col_width * (1 + 1.5)) }}%"></col>
        </colgroup>
        {% endwith %}
        <tbody>
            {% for row in rows -%}
            <tr>
                {%- for r in row -%}
                {%- with 
                    attrs = { 
                        'class': 'value' if loop.last else 'name',
                        'rowspan': r.rowspan if r.rowspan > 1 else None, 
                        'colspan': r.colspan if r.colspan > 1 else None, 
                    }
                -%}
                {%- if r.tag == 'th' -%}
                <th {{ attrs|xmlattr }}>{{ r.title or r.data }}</th>
                {% else %}
                <td {{ attrs|xmlattr }}>{{ r.data|safe }}</td>
                {%- endif -%}
                {%- endwith -%} {# attrs #}
                {%- endfor -%} {# for r in row #}
            </tr>           
            {% endfor -%}
        </tbody>
    </table>
</div>
