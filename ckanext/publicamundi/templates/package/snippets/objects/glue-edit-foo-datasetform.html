{% import 'macros/accordion.html' as accordion -%}
{% import 'macros/markup_helpers.html' as markup_helpers -%}

{% set groups = [
        
        { 
            'name': 'subject',
            'heading': _('Subject'),
            'fields': ['subject'],
        },
        { 
            'name': 'creator',
            'heading': _('Creator'),
            'fields': ['creator'],
        },
        { 
            'name': 'contributor',
            'heading': _('Contributor'),
            'fields': ['contributor'],
        },
        { 
            'name': 'alternate_identifier',
            'heading': _('Alternate Identifier'),
            'fields': ['alternate_identifier'],
        },
        { 
            'name': 'related_identifier',
            'heading': _('Related Identifier'),
            'fields': ['related_identifier'],
        },
        { 
            'name': 'funding_reference',
            'heading': _('Funding Reference'),
            'fields': ['funding_reference'],
        },
   ]    
%}

<div class="{{ classes|join(' ') }}">
    {% if title %}<h3>{{ title }}</h3>{% endif %}
    {% call(group_desc) accordion.accordion('foo-fields', groups) %}
        {% for fname in group_desc.fields -%}
        {{ fields[fname].markup }}
        {% endfor -%}
    {% endcall %}
</div>
